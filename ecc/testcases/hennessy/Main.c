// Generated by Oberon+ IDE (Mono) 0.9.107 on 2024-08-10T01:27:54

#include "Main.h"

void Main$Time(struct OBX$Array$1 s, void (*p)()) {
    int32_t timer;
    int32_t i;
    timer = 0;
    i = 0;
    Util$Str(s);
    i = 0;
    timer = Util$Getclock();
    while(1) {
        if( (i < 10) ) {
            p();
            i++;
        } else {
            break;
        }
    }
    timer = (Util$Getclock() - timer);
    Out$Int(timer, 8);
    Out$Ln();
}

static int initDone$ = 0;
void Main$init$(void) {
    if(initDone$) return; else initDone$ = 1;
    Util$init$();
    Out$init$();
    Perm$init$();
    Towers$init$();
    Queens$init$();
    Quick$init$();
    Intmm$init$();
    Mm$init$();
    Bubble$init$();
    Trees$init$();
    Oscar$init$();
    OBX$PrintA(1,(const char*)((const struct OBX$Array$1){15,0,OBX$FromUtf("******** start",15,0)}).$a);
#if 0
    Main$Time((const struct OBX$Array$1){5,0,OBX$FromUtf("Perm",5,0)}, Perm$Run);
    Main$Time((const struct OBX$Array$1){7,0,OBX$FromUtf("Towers",7,0)}, Towers$Run);
    Main$Time((const struct OBX$Array$1){7,0,OBX$FromUtf("Queens",7,0)}, Queens$Run);
    Main$Time((const struct OBX$Array$1){6,0,OBX$FromUtf("Intmm",6,0)}, Intmm$Run);
    Main$Time((const struct OBX$Array$1){3,0,OBX$FromUtf("Mm",3,0)}, Mm$Run);
#endif
    Main$Time((const struct OBX$Array$1){6,0,OBX$FromUtf("Quick",6,0)}, Quick$Run); // causes crash, the others work
#if 0
    Main$Time((const struct OBX$Array$1){7,0,OBX$FromUtf("Bubble",7,0)}, Bubble$Run);
    Main$Time((const struct OBX$Array$1){6,0,OBX$FromUtf("Trees",6,0)}, Trees$Run);
    Main$Time((const struct OBX$Array$1){4,0,OBX$FromUtf("FFT",4,0)}, Oscar$Run);
#endif
    OBX$PrintA(1,(const char*)((const struct OBX$Array$1){14,0,OBX$FromUtf("******** done",14,0)}).$a);
}
OBX$Cmd Main$cmd$(const char* name) {
    if( name == 0 ) return Main$init$;
    return 0;
}
