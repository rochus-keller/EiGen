// Generated by Oberon+ IDE (Mono) 0.9.107 on 2024-08-10T01:27:54

#include "Util.h"

int32_t Util$seed = 0;
void Util$Str(struct OBX$Array$1 s) {
    int32_t i;
    struct OBX$Array$1* $t0;
    struct OBX$Array$1* $t1;
    i = 0;
    i = 0;
    while(1) {
        if( ((uint8_t)(*($t0 = (&s),&((char *)$t0->$a)[i]))!=(uint8_t)0x0) ) {
            if( ((uint8_t)(*($t1 = (&s),&((char *)$t1->$a)[i]))==(uint8_t)*(const char*)((const struct OBX$Array$1){2,0,OBX$FromUtf("$",2,0)}).$a) ) {
                Out$Ln();
            } else {
                Out$Char((*($t0 = (&s),&((char *)$t0->$a)[i])));
            }
            i++;
        } else {
            break;
        }
    }
}

int32_t Util$Getclock() {
    return Input$Time();
}

void Util$Initrand() {
    Util$seed = 74755;
}

int32_t Util$Rand() {
    Util$seed = OBX$Mod32(((Util$seed * 1309) + 13849),65535);
    return Util$seed;
}

static int initDone$ = 0;
void Util$init$(void) {
    if(initDone$) return; else initDone$ = 1;
    Input$init$();
    Out$init$();
}
OBX$Cmd Util$cmd$(const char* name) {
    if( name == 0 ) return Util$init$;
    if( strcmp(name,"Initrand") == 0 ) return Util$Initrand;
    return 0;
}
